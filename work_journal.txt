#####################################
Work Journal: Genome Analysis project
#####################################

Working on right now: Step 5 (RNA alignment)
What's been done: Selected the bins to continue working on, ran the annotation
Next step: Align the RNA

#####################################
Questions
I want to double-check my workflow before continuing
What I’ve done:
- I did the binning, and after evaluating the results I chose 4 bins that corresponded somewhat to the standard proposed by that paper on Slack
- Thereafter, I annotated those 4 bins (separately)

Now:
- I’m about to do the RNA mapping (that is: aligning the RNA reads to the bins)
- My idea is to do this separately for each bin: index the bins, align both RNA reads to each one (high vs low oxygen)
- That’ll give me 8 output alignments: One from a high-oxygen and one from a low-oxygen environment for each bin
- By then using a feature count, I get information on what feature seen for each bin (from the annotation) is present in which environment (low/high oxygen). That way I can figure out if the organism is present in just one environment or both, and if its gene expression is different


For the alignment
There are a lot of different options
- In the paper they use bwa aln in combination with bwa same, but when I google the bwa mem seems to be recommended. What's the difference between the two?
- Can I convert directly from sam to sorted bam (in a pipeline)? It says that might take a long time, but what's the difference to going via samtools view (that is, go from sam --> sorted bam vs sam --> bam --> sorted bam)


For the HTSeq read count
- The output is in sam format, should I compress it to bam?

#####################################
2024-04-22
Updated the wiki, continued working on the RNA alignment script
Researched a bit about the feature count software HTSeq to know what is needed from the output files of the alignment

2024-04-18
I decided on keeping four bins from the assembly+binning based on completeness and contamination (15, 20, 4, 19)
For those, I ran the Prokka annotation (which worked fine)

Started on step 5, the RNA alignment to the bins
Created a first draft of a script, researched bwa and samtools

2024-04-17
Updated the Wiki with results from the assembly and binning

2024-04-16
The assembly evaluation is ok: The numbers differ because we use a subset of the data. And it's not surprising to get hits on wrong organisms, because we expect quite "unknown" organisms to turn up. We're not interested in the references, mainly in the statistics. 

Ran a first attempt at binning. Choose to not try and include the -a command (it needs an alignment file where the coverage of each contig is found, so that it can use that additional information for the binning).
The binning gave 26 bins.

Ran a first attempt at CheckM binning evaluation, and got a result. 

2024-04-15
Updated the Wiki with the results of step 1 (preprocessing).
Tried to run the metagenome evaluation with MetaQuast.
Started researching for the binning step. 

2024-04-12
For the Trimmomatic, I picked the paired output for further analysis
I ran FastQC on these four runs and downloaded the HTML results
For Megahit, I'll pool all samples and analyze them as one metagenome. Why? Because it gives one pool with more DNA --> more statistical information to get a good assembly.

Ran the metagenome analysis with Megahit, and it worked (I think).

2024-04-09
Ran the Trimmomatic analysis
Started working on the megahit assembly

2024-04-08
Ran the FastQC for the trimmed DNA and untrimmed RNA
Downloaded the HTML results to my computer
Started working on the RNA trimming. Have a test script to try (but it doesn’t work). Gives an error stating that the ILLUMINACLIP command is not found (why??)

2024-03-28
Finished the project plan
Started the FastQC analysis
Managed to run one sample
Moved files back and forth
